const proxyJSON = {
    "user": [
        {
            "name": "Max Mustermann",
            "id": "37255"
        },
        {
            "name": "Alexander Schmidt",
            "id": "32463"
        },
        {
            "name": "Martin Mellinghoff",
            "id": "96718"
        },
        {
            "name": "Finja Robinson",
            "id": "79118"
        },
        {
            "name": "Mika Illing",
            "id": "74501"
        },
        {
            "name": "Ewald Willig",
            "id": "09938"
        },
        {
            "name": "Annika Rausch",
            "id": "21560"
        },
        {
            "name": "Hans-Peter Klesper",
            "id": "16614"
        },
        {
            "name": "Xenia Solka",
            "id": "27069"
        }
    ],
    "organisations": [
        {
            "name": "Feuerwehr",
            "id": "1",
            "kennzahlen": [
                {
                    "name": "Atemschutzgeräte",
                    "id": "11",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "123",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "232",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "323",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Einsatzkräfte (krank)",
                    "id": "12",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "4",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "6",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "8",
                            "maxValue": "500"
                        }
                    ]                },
                {
                    "name": "Maschinist- und Fahrer (krank)",
                    "id": "13",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "23",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "12",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "26",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Fahrzeuge einsatzbereit",
                    "id": "14",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "2",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "4",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "3",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Krankenhaus",
            "id": "2",
            "kennzahlen": [
                {
                    "name": "Ärzte (krank)",
                    "id": "21",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "13",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "22",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "33",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Pflegekräfte (krank)",
                    "id": "22",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "3",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "13",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "4",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Beatmungsgeräte",
                    "id": "23",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "23",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "14",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "27",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Betten",
                    "id": "24",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "22",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "43",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "34",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Wasserwerk",
            "id": "3",
            "kennzahlen": [
                {
                    "name": "Teams (verfügbar)",
                    "id": "31",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "123",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "252",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "373",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Wasserqualität",
                    "id": "32",
                    "value-format": "string",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "gut",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "mittel",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "schlecht",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Verfügbarkeit Trinkwasser",
                    "id": "33",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "234324",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "23214",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "52526",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Abdeckung Versorgungsgebiet",
                    "id": "34",
                    "value-format": "perc",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "97%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "69%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "78%",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Verwaltung",
            "id": "4",
            "kennzahlen": [
                {
                    "name": "MA Bürgerbüro (krank)",
                    "id": "41",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "1",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "2",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "3",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "MA Jugendamt (krank)",
                    "id": "42",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "143",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "282",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "324",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "MA Ordnungsamt (krank)",
                    "id": "43",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "134",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "222",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "373",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "MA gesamt (krank)",
                    "id": "44",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "1423",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "225",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "363",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Med. Versorgung",
            "id": "5",
            "kennzahlen": [
                {
                    "name": "Einsatzkräft (krank)",
                    "id": "51",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "23",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "25",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "33",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Einsatzfahrzeuge (verfügbar)",
                    "id": "52",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "123",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "224",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "36",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Pflegeheim",
            "id": "6",
            "kennzahlen": [
                {
                    "name": "Pfleger (krank)",
                    "id": "61",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "23",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "34",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "31",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Auslastung",
                    "id": "62",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "14",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "62",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "53",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Lieferanten (verfügbar)",
                    "id": "63",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "42",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "16",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "72",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Kita/Hort",
            "id": "7",
            "kennzahlen": [
                {
                    "name": "Kindergärtner (krank)",
                    "id": "71",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "1423",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "225",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "363",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Kinder (krank)",
                    "id": "72",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "13",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "25",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "33",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Verpflegung",
                    "id": "73",
                    "value-format": "String",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "gut",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "schlecht",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "mittel",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Anwesenheit",
                    "id": "74",
                    "value-format": "perc",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "70%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "40%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "80%",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        },
        {
            "name": "Schule",
            "id": "8",
            "kennzahlen": [
                {
                    "name": "Lehrer (krank)",
                    "id": "81",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "24",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "25",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "62",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Schüler (krank)",
                    "id": "82",
                    "value-format": "num",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "14",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "25",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "63",
                            "maxValue": "500"
                        }
                    ]
                },
                {
                    "name": "Anwesenheit",
                    "id": "84",
                    "value-format": "perc",
                    "values": [
                        {
                            "date": "2020-08-07T18:25:43.511Z",
                            "value": "80%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-06T18:25:43.511Z",
                            "value": "75%",
                            "maxValue": "500"
                        },
                        {
                            "date": "2020-08-05T18:25:43.511Z",
                            "value": "70%",
                            "maxValue": "500"
                        }
                    ]
                }
            ]
        }
    ]
}

function getFullJSON() {
    return proxyJSON;
}

function getOrganisationById(id) {
    var organisation = {};
    proxyJSON.organisations.forEach(org => {
        organisation = (org.id === id) ? org : organisation;
    })
    return organisation;
}

function getValuesByOrgIdAndDate(id, date){
    var valueList = [];
    var organisation = getOrganisationById(id);
    organisation.kennzahlen.forEach(kpi => {
        var element = {"name": kpi.name, "value": ""};
        kpi.values.forEach(v => {
            if(new Date(v.date).getFullYear() === date.getFullYear()
                && new Date(v.date).getMonth() === date.getMonth()
                && new Date(v.date).getDate() === date.getDate()) {
                    element = ({"name": kpi.name, "value": v.value});
            }
        })
        valueList.push(element);
    })
    return valueList;
}

function getMaxValuesByOrgIdAndDate(id, date){
    var valueList = [];
    var organisation = getOrganisationById(id);
    organisation.kennzahlen.forEach(kpi => {
        var element = {"name": kpi.name, "value": ""};
        kpi.values.forEach(v => {
            if(new Date(v.date).getFullYear() === date.getFullYear()
                && new Date(v.date).getMonth() === date.getMonth()
                && new Date(v.date).getDate() === date.getDate()) {
                    element = ({"name": kpi.name, "value": v.maxValue});
            }
        })
        valueList.push(element);
    })
    return valueList;
}

export { getFullJSON, getOrganisationById, getValuesByOrgIdAndDate, getMaxValuesByOrgIdAndDate }